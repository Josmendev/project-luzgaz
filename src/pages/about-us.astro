---
import Button from "@components/ui/Button.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Layout from "../layouts/Layout.astro";
---

<Layout
  title="Sobre Nosotros - LUZGAS Asesoría Energética"
  description="Conoce más sobre LUZGAS, nuestro equipo, historia y objetivos en asesoría energética."
>
  <Header />
  <main class="pt-16">
    <!-- History Section -->
    <section
      id="brief-review"
      class="min-h-screen flex items-center justify-center bg-gradient-to-br from-luzgas-blue to-blue-600 relative overflow-hidden"
    >
      <!-- Background with gradient overlay -->
      <div class="absolute inset-0 opacity-10">
        <div class="absolute top-20 left-10 w-32 h-32 bg-white rounded-full">
        </div>
        <div
          class="absolute bottom-20 right-20 w-24 h-24 bg-white rounded-full"
        >
        </div>
        <div class="absolute top-40 right-32 w-16 h-16 bg-white rounded-full">
        </div>
      </div>

      <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-32 items-center">
          <!-- Logo/Brand visual -->
          <div class="relative">
            <img
              src="/logo-1.png"
              alt="Luzgas Logo"
              class="h-auto w-48 md:w-[480px] mx-auto object-cover"
              style="filter: drop-shadow(0 4px 8px rgba(0,0,0,0.7)) drop-shadow(0 2px 4px rgba(0,0,0,0.6));"
            />
          </div>

          <!-- Content -->
          <div>
            <h2 class="text-3xl md:text-5xl font-bold text-white mb-2 md:mb-8!">
              Nuestra <span class="text-yellow-300">historia</span>
            </h2>
            <p class="text-xl text-blue-100 mb-6! leading-relaxed">
              LUZGAS nació en 2014 con la visión de transformar el sector
              energético español. Fundada por un equipo de ingenieros
              especializados en eficiencia energética, comenzamos como una
              pequeña consultora con grandes ambiciones.
            </p>
            <div class="flex gap-4 mb-6!">
              <div class="text-center">
                <div class="text-4xl font-bold text-yellow-300 mb-2">10+</div>
                <p class="text-blue-200">Años de experiencia</p>
              </div>
              <div class="text-center">
                <div class="text-4xl font-bold text-green-300 mb-2">500+</div>
                <p class="text-blue-200">Proyectos completados</p>
              </div>
            </div>
            <div class="flex flex-col sm:flex-row gap-6">
              <Button
                variant="outline"
                color="secondary"
                dimension="xl"
                class="min-w-[280px] backdrop-blur-sm !text-xl font-medium! border-white text-white bg-white/10 hover:bg-white hover:text-secondary-500"
              >
                <a href="/about-us#members" class="block w-full h-full">
                  Nuestro equipo
                </a>
              </Button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- How We Work Section -->
  <section
    id="how-we-work"
    class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-green-50 relative overflow-hidden"
  >
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-10">
      <div
        class="absolute top-10 left-10 w-20 h-20 bg-luzgas-blue rounded-full"
      >
      </div>
      <div
        class="absolute top-32 right-20 w-16 h-16 bg-luzgas-green rounded-full"
      >
      </div>
      <div
        class="absolute bottom-20 left-32 w-12 h-12 bg-luzgas-yellow rounded-full"
      >
      </div>
      <div
        class="absolute bottom-40 right-10 w-24 h-24 bg-luzgas-blue rounded-full"
      >
      </div>
    </div>

    <div
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full flex flex-col items-center relative z-10"
    >
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-5xl font-bold text-gray-800 mb-2 md:mb-3!">
          Cómo <span class="text-luzgas-blue">funcionamos</span>
        </h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
          Nuestro proceso probado para transformar tu eficiencia energética
        </p>
      </div>

      <!-- Swiper Container for Steps -->
      <div class="relative w-full max-w-5xl mx-auto">
        <div class="swiper how-we-work-swiper">
          <div class="swiper-wrapper">
            <!-- Step 1 -->
            <div class="swiper-slide">
              <div
                class="bg-white rounded-3xl p-12 px-20 shadow-xl m-1 text-center"
              >
                <figure>
                  <img
                    src="/undraw_nosotros_consulting.svg"
                    alt="Step 1"
                    class="w-72 h-84 mx-auto mb-6! object-cover"
                  />
                </figure>
                <h3 class="text-2xl font-bold text-luzgas-blue mb-4">
                  Consulta Inicial
                </h3>
                <p class="text-gray-600 leading-relaxed text-lg">
                  Analizamos tus necesidades y objetivos energéticos específicos
                  para crear una estrategia personalizada
                </p>
              </div>
            </div>

            <!-- Step 2 -->
            <div class="swiper-slide">
              <div
                class="bg-white rounded-3xl p-12 px-20 shadow-xl m-1 text-center"
              >
                <figure>
                  <img
                    src="/undraw_nosotros_auditoria.svg"
                    alt="Step 1"
                    class="w-72 h-84 mx-auto mb-6! object-cover"
                  />
                </figure>
                <h3 class="text-2xl font-bold text-luzgas-blue mb-4">
                  Auditoria energética
                </h3>
                <p class="text-gray-600 leading-relaxed text-lg">
                  Analizamos tus necesidades y objetivos energéticos específicos
                  para crear una estrategia personalizada
                </p>
              </div>
            </div>

            <!-- Step 3 -->
            <div class="swiper-slide">
              <div
                class="bg-white rounded-3xl p-12 px-20 shadow-xl m-1 text-center"
              >
                <figure>
                  <img
                    src="/undraw_nosotros_custom-chat.svg"
                    alt="Step 1"
                    class="w-72 h-84 mx-auto mb-6! object-cover"
                  />
                </figure>
                <h3 class="text-2xl font-bold text-luzgas-blue mb-4">
                  Propuesta personalizada
                </h3>
                <p class="text-gray-600 leading-relaxed text-lg">
                  Analizamos tus necesidades y objetivos energéticos específicos
                  para crear una estrategia personalizada
                </p>
              </div>
            </div>

            <!-- Step 4 -->
            <div class="swiper-slide">
              <div
                class="bg-white rounded-3xl p-12 px-20 shadow-xl m-1 text-center"
              >
                <figure>
                  <img
                    src="/undraw_nosotros_implement.svg"
                    alt="Step 1"
                    class="w-72 h-84 mx-auto mb-6! object-contain"
                  />
                </figure>
                <h3 class="text-2xl font-bold text-luzgas-blue mb-4">
                  Implementación
                </h3>
                <p class="text-gray-600 leading-relaxed text-lg">
                  Analizamos tus necesidades y objetivos energéticos específicos
                  para crear una estrategia personalizada
                </p>
              </div>
            </div>
          </div>

          <!-- Add Pagination -->
          <div class="swiper-pagination"></div>

          <!-- Add Navigation -->
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Team Single Member Section -->
  <section
    id="members"
    class="min-h-screen flex items-center justify-center bg-gradient-to-br from-luzgas-blue to-blue-600 relative overflow-hidden"
  >
    <!-- Background Elements -->
    <div class="absolute inset-0 opacity-10">
      <div class="absolute top-20 left-10 w-32 h-32 bg-white rounded-full">
      </div>
      <div class="absolute bottom-20 right-20 w-24 h-24 bg-white rounded-full">
      </div>
      <div class="absolute top-40 right-32 w-16 h-16 bg-white rounded-full">
      </div>
    </div>

    <div
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full flex flex-col items-center relative z-10"
    >
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-5xl font-bold text-white mb-2 md:mb-3!">
          Nuestro <span class="text-luzgas-yellow">equipo</span>
        </h2>
        <p class="text-xl text-blue-100 max-w-3xl mx-auto leading-relaxed">
          Profesional especializada comprometida con la excelencia energética
        </p>
      </div>

      <!-- Layout en dos columnas centrado -->
      <div
        class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center max-w-6xl w-full"
      >
        <!-- Columna izquierda - Imagen -->
        <div class="flex justify-center">
          <div class="w-96 h-96 relative group">
            <img
              src="/undraw_nosotros_auditoria.svg"
              alt="Maria Elena Robles"
              class="w-full h-full object-cover rounded-3xl shadow-2xl group-hover:scale-105 transition-transform duration-500"
            />
            <div
              class="absolute inset-0 bg-gradient-to-br from-blue-500/20 to-green-500/20 rounded-3xl"
            >
            </div>
          </div>
        </div>

        <!-- Columna derecha - Contenido -->
        <div
          class="bg-white rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-2"
        >
          <!-- Name and Position -->
          <h3 class="text-3xl font-bold text-gray-800 mb-2! text-center">
            Maria Elena Robles
          </h3>
          <p class="text-luzgas-blue font-semibold text-xl mb-4! text-center">
            ASESORA ENERGÉTICA
          </p>

          <!-- Contact Information -->
          <div class="space-y-6 mb-10 flex flex-col items-center">
            <!-- Phone -->
            <div class="flex items-center justify-center space-x-4">
              <div
                class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center"
              >
                <svg
                  class="w-6 h-6 text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                  ></path>
                </svg>
              </div>
              <span class="text-gray-700 font-medium text-lg"
                >+51 667 275 919</span
              >
            </div>

            <!-- Email -->
            <div class="flex items-center justify-center space-x-4">
              <div
                class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center"
              >
                <svg
                  class="w-6 h-6 text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                  ></path>
                </svg>
              </div>
              <span class="text-gray-700 font-medium text-lg"
                >info@luzgas.net</span
              >
            </div>
          </div>

          <!-- Social Media Icons -->
          <div class="flex items-center justify-center space-x-6 mb-6">
            <!-- Instagram -->
            <a href="#" class="group/social">
              <div
                class="w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center hover:scale-110 transition-transform duration-300 shadow-lg"
              >
                <svg
                  class="w-7 h-7 text-white"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                >
                  <rect
                    x="4"
                    y="4"
                    width="16"
                    height="16"
                    rx="4"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"></rect>
                  <circle
                    cx="12"
                    cy="12"
                    r="3"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"></circle>
                  <circle cx="17.5" cy="6.5" r="1" fill="currentColor"></circle>
                </svg>
              </div>
            </a>

            <!-- Facebook -->
            <a href="#" class="group/social">
              <div
                class="w-14 h-14 bg-blue-600 rounded-full flex items-center justify-center hover:scale-110 transition-transform duration-300 shadow-lg"
              >
                <svg
                  class="w-7 h-7 text-white"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"
                  ></path>
                </svg>
              </div>
            </a>

            <!-- Twitter -->
            <a href="#" class="group/social">
              <div
                class="w-14 h-14 bg-sky-500 rounded-full flex items-center justify-center hover:scale-110 transition-transform duration-300 shadow-lg"
              >
                <svg
                  class="w-7 h-7 text-white"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"
                  ></path>
                </svg>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Objectives Section -->
  <section
    id="objectives"
    class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-green-50 relative"
  >
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-10">
      <div
        class="absolute top-10 left-10 w-20 h-20 bg-luzgas-blue rounded-full"
      >
      </div>
      <div
        class="absolute top-32 right-20 w-16 h-16 bg-luzgas-green rounded-full"
      >
      </div>
      <div
        class="absolute bottom-20 left-32 w-12 h-12 bg-luzgas-yellow rounded-full"
      >
      </div>
      <div
        class="absolute bottom-40 right-10 w-24 h-24 bg-luzgas-blue rounded-full"
      >
      </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full relative z-10">
      <div class="text-center mb-12 flex flex-col items-center">
        <h2 class="text-3xl md:text-5xl font-bold text-gray-800 mb-2 md:mb-3!">
          Nuestros
          <span class="text-luzgas-blue">objetivos</span>
        </h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
          Metas claras que guían nuestro trabajo hacia un futuro más sostenible
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
        <!-- Objetivo 1 -->
        <div class="group relative">
          <div
            class="absolute inset-0 bg-gradient-to-r from-primary-400 to-primary-600 rounded-3xl blur opacity-25 group-hover:opacity-40 transition-opacity duration-500"
          >
          </div>
          <div
            class="relative bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-500 transform group-hover:-translate-y-3 border border-white/20"
          >
            <div class="flex-1">
              <img
                src="/img-nosotros_ambiente.gif"
                alt="Servicio de sostenibilidad ambiental"
                class="w-20 h-20 object-cover"
              />
              <h3
                class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-primary-600 transition-colors duration-300"
              >
                Sostenibilidad Ambiental
              </h3>
              <div
                class="w-12 h-1 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full mb-4"
              >
              </div>
            </div>

            <p class="text-gray-600 leading-relaxed text-base">
              Reducir la huella de carbono de nuestros clientes mediante
              soluciones energéticas limpias y eficientes, contribuyendo
              activamente a la lucha contra el cambio climático.
            </p>
          </div>
        </div>

        <!-- Objetivo 2 -->
        <div class="group relative">
          <div
            class="absolute inset-0 bg-gradient-to-r from-secondary-400 to-secondary-600 rounded-3xl blur opacity-25 group-hover:opacity-40 transition-opacity duration-500"
          >
          </div>
          <div
            class="relative bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-500 transform group-hover:-translate-y-3 border border-white/20"
          >
            <div class="flex-1">
              <img
                src="/img-nosotros_economy.gif"
                alt="Servicio economica"
                class="w-20 h-20 object-cover"
              />
              <h3
                class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-secondary-600 transition-colors duration-300"
              >
                Sostenibilidad Ambiental
              </h3>
              <div
                class="w-12 h-1 bg-gradient-to-r from-secondary-500 to-secondary-600 rounded-full mb-4"
              >
              </div>
            </div>

            <p class="text-gray-600 leading-relaxed text-base">
              Reducir la huella de carbono de nuestros clientes mediante
              soluciones energéticas limpias y eficientes, contribuyendo
              activamente a la lucha contra el cambio climático.
            </p>
          </div>
        </div>

        <!-- Objetivo 3 -->
        <div class="group relative">
          <div
            class="absolute inset-0 bg-gradient-to-r from-secondary-400 to-secondary-600 rounded-3xl blur opacity-25 group-hover:opacity-40 transition-opacity duration-500"
          >
          </div>
          <div
            class="relative bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-500 transform group-hover:-translate-y-3 border border-white/20"
          >
            <div class="flex-1">
              <img
                src="/img-nosotros_services.gif"
                alt="Servicios generales"
                class="w-20 h-20 object-cover"
              />
              <h3
                class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-secondary-600 transition-colors duration-300"
              >
                Sostenibilidad Ambiental
              </h3>
              <div
                class="w-12 h-1 bg-gradient-to-r from-secondary-500 to-secondary-600 rounded-full mb-4"
              >
              </div>
            </div>

            <p class="text-gray-600 leading-relaxed text-base">
              Reducir la huella de carbono de nuestros clientes mediante
              soluciones energéticas limpias y eficientes, contribuyendo
              activamente a la lucha contra el cambio climático.
            </p>
          </div>
        </div>

        <!-- Objetivo 4 -->
        <div class="group relative">
          <div
            class="absolute inset-0 bg-gradient-to-r from-primary-400 to-primary-600 rounded-3xl blur opacity-25 group-hover:opacity-40 transition-opacity duration-500"
          >
          </div>
          <div
            class="relative bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-500 transform group-hover:-translate-y-3 border border-white/20"
          >
            <div class="flex-1">
              <img
                src="/img-nosotros_power.gif"
                alt="Servicio de sostenibilidad ambiental"
                class="w-20 h-20 object-cover"
              />
              <h3
                class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-primary-600 transition-colors duration-300"
              >
                Sostenibilidad Ambiental
              </h3>
              <div
                class="w-12 h-1 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full mb-4"
              >
              </div>
            </div>

            <p class="text-gray-600 leading-relaxed text-base">
              Reducir la huella de carbono de nuestros clientes mediante
              soluciones energéticas limpias y eficientes, contribuyendo
              activamente a la lucha contra el cambio climático.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>

<Footer />

<style>
  main {
    min-height: 100vh;
  }

  /* Animaciones adicionales */
  @keyframes float {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .how-we-work-swiper {
    width: 100%;
    height: auto;
    border-radius: 1.5rem;
    overflow: hidden;
  }

  .how-we-work-swiper .swiper-button-next,
  .how-we-work-swiper .swiper-button-prev {
    color: var(--luzgas-blue, #2563eb);
    padding: 10px;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    border-radius: 50%;
    width: 55px;
    height: 55px;
    margin-top: -25px;
    box-shadow:
      0 15px 35px rgba(0, 0, 0, 0.15),
      0 5px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
  }

  .how-we-work-swiper .swiper-button-next {
    margin-right: 24px;
  }

  .how-we-work-swiper .swiper-button-prev {
    margin-left: 24px;
  }

  .how-we-work-swiper .swiper-button-next:hover,
  .how-we-work-swiper .swiper-button-prev:hover {
    background: rgba(255, 255, 255, 1);
    transform: scale(1.05);
  }

  .how-we-work-swiper .swiper-pagination-bullet {
    width: 12px;
    height: 12px;
    background: rgba(37, 99, 235, 0.3);
    opacity: 1;
  }

  .how-we-work-swiper .swiper-pagination-bullet-active {
    background: var(--luzgas-blue, #2563eb);
    transform: scale(1.2);
  }
</style>

<script>
  import Swiper from "swiper";
  import { Autoplay, Navigation, Pagination } from "swiper/modules";

  let howWeWorkSwiperInstance: any = null;

  function cleanupSwiper() {
    if (howWeWorkSwiperInstance) {
      howWeWorkSwiperInstance.destroy(true, true);
      howWeWorkSwiperInstance = null;
    }

    // Backup: limpiar cualquier swiper inicializado en el DOM
    document.querySelectorAll(".swiper-initialized").forEach((el) => {
      const swiperEl = el as any;
      if (swiperEl.swiper) {
        swiperEl.swiper.destroy(true, true);
      }
    });
  }

  function initializePage() {
    // Primero limpiar cualquier instancia existente
    cleanupSwiper();

    // Pequeño delay para asegurar que el DOM esté listo
    setTimeout(() => {
      // Slider How We Work
      const howWeWorkElement = document.querySelector(".how-we-work-swiper");

      if (
        howWeWorkElement &&
        !howWeWorkElement.classList.contains("swiper-initialized")
      ) {
        try {
          howWeWorkSwiperInstance = new Swiper(".how-we-work-swiper", {
            modules: [Autoplay, Navigation, Pagination],
            spaceBetween: 30,
            centeredSlides: true,
            autoplay: {
              delay: 2500,
              disableOnInteraction: false,
            },
            pagination: {
              el: ".how-we-work-swiper .swiper-pagination",
              clickable: true,
            },
            navigation: {
              nextEl: ".how-we-work-swiper .swiper-button-next",
              prevEl: ".how-we-work-swiper .swiper-button-prev",
            },
            loop: true,
            effect: "slide",
            speed: 800,
            // Estas opciones ayudan con la navegación SPA
            observer: true,
            observeParents: true,
            watchSlidesProgress: true,
          });
        } catch (error) {
          console.error("Error inicializando How We Work Swiper:", error);
        }
      }
    }, 100);
  }

  // Ejecutar en carga inicial
  document.addEventListener("DOMContentLoaded", () => {
    initializePage();
  });

  // Ejecutar cuando Astro cambie de página
  document.addEventListener("astro:page-load", () => {
    initializePage();
  });

  // Limpiar antes de cambiar de página (importante para Astro)
  document.addEventListener("astro:before-preparation", () => {
    cleanupSwiper();
  });

  // Backup de limpieza
  window.addEventListener("beforeunload", () => {
    cleanupSwiper();
  });
</script>
